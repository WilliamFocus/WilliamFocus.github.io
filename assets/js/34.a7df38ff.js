(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{612:function(e,t,o){"use strict";o.r(t);var v=o(4),_=Object(v.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("p",[o("em",[e._v("（生命周期——即可以在某些时候做特定逻辑）")])]),e._v(" "),o("h1",{attrs:{id:"📌-一、旧版"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#📌-一、旧版"}},[e._v("#")]),e._v(" 📌 一、旧版")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/85dfebc8d13a4bac8a84ee42f880c6a2~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),e._v(" "),o("h2",{attrs:{id:"过程"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#过程"}},[e._v("#")]),e._v(" 过程")]),e._v(" "),o("ol",[o("li",[o("p",[o("strong",[e._v("初始化阶段:")]),e._v(" 由ReactDOM.render()触发---初次渲染")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("constructor()")])]),e._v(" "),o("li",[o("s",[o("code",[e._v("componentWillMount()")])]),e._v("（已删，目前使用需要UNNSAFE_前缀）")]),e._v(" "),o("li",[o("code",[e._v("render()")])]),e._v(" "),o("li",[o("code",[e._v("componentDidMount()")])])])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("更新阶段:")]),e._v(" 由组件内部this.setSate()或父组件重新render触发")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("shouldComponentUpdate()")]),e._v(" 控制更新的开关")]),e._v(" "),o("li",[o("s",[o("code",[e._v("componentWillUpdate()")])]),e._v("（已删，目前使用需要UNNSAFE_前缀）")]),e._v(" "),o("li",[o("code",[e._v("render()")])]),e._v(" "),o("li",[o("code",[e._v("componentDidUpdate()")])])])]),e._v(" "),o("li",[o("p",[o("strong",[e._v("卸载组件:")]),e._v(" 由ReactDOM.unmountComponentAtNode()触发")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("componentWillUnmount()")])])])])]),e._v(" "),o("h3",{attrs:{id:"💡注意点："}},[o("a",{staticClass:"header-anchor",attrs:{href:"#💡注意点："}},[e._v("#")]),e._v(" 💡注意点：")]),e._v(" "),o("ol",[o("li",[o("p",[o("s",[o("code",[e._v("componentWillReceiveProps")])]),e._v(" （子组件将接收到props之前触发） 第一次父组件传过来props不会触发（已删，目前使用需要UNNSAFE_前缀）")]),e._v(" "),o("hr"),e._v(" "),o("h1",{attrs:{id:"📌-二、新版（16-3-开始）"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#📌-二、新版（16-3-开始）"}},[e._v("#")]),e._v(" 📌 二、新版（16.3 开始）")])])]),e._v(" "),o("p",[o("img",{attrs:{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/135981e477bf4689a4c12fafc489fd0c~tplv-k3u1fbpfcp-watermark.image?",alt:"image.png"}})]),e._v(" "),o("h2",{attrs:{id:"过程："}},[o("a",{staticClass:"header-anchor",attrs:{href:"#过程："}},[e._v("#")]),e._v(" 过程：")]),e._v(" "),o("ol",[o("li",[o("p",[e._v("初始化阶段: 由 ReactDOM.render()触发---初次渲染")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("constructor()")])]),e._v(" "),o("li",[o("code",[e._v("getDerivedStateFromProps")]),e._v("（新增）")]),e._v(" "),o("li",[o("code",[e._v("render()")])]),e._v(" "),o("li",[o("code",[e._v("componentDidMount()")])])])]),e._v(" "),o("li",[o("p",[e._v("更新阶段: 由组件内部 this.setSate()或父组件重新 render 触发")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("getDerivedStateFromProps(props，state)")]),e._v(" （新增）")]),e._v(" "),o("li",[o("code",[e._v("shouldComponentUpdate(nextProps, nextState, nextContext)")])]),e._v(" "),o("li",[o("code",[e._v("render()")])]),e._v(" "),o("li",[o("code",[e._v("getSnapshotBeforeUpdate(prevProp, prevState)")]),e._v(" （新增）")]),e._v(" "),o("li",[o("code",[e._v("componentDidUpdate(prevProps, prevState)")])])])]),e._v(" "),o("li",[o("p",[e._v("卸载组件: 由 ReactDOM.unmountComponentAtNode()触发")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("componentWillUnmount()")])])])])]),e._v(" "),o("hr"),e._v(" "),o("h3",{attrs:{id:"💡-注意点："}},[o("a",{staticClass:"header-anchor",attrs:{href:"#💡-注意点："}},[e._v("#")]),e._v(" 💡 注意点：")]),e._v(" "),o("ol",[o("li",[o("code",[e._v("getDerivedStateFromProps(props，state)")]),e._v("从 props 中获取派生状态，把参数 props 当状态使用，取决于 props， 必须值 val 必须返回对象，会自动映射合并到 state 中；")]),e._v(" "),o("li",[o("code",[e._v("getSnapshotBeforeUpdate")]),e._v(" 为更新前获取快照，return 值成为"),o("code",[e._v("componentDidUpdate()")]),e._v(" 的第三个参数")]),e._v(" "),o("li",[o("code",[e._v("componentDidUpdate()")]),e._v(" 参数分别为（preProps 值，preState 值，val 快照返回值）")])]),e._v(" "),o("hr"),e._v(" "),o("h1",{attrs:{id:"📌-提示"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#📌-提示"}},[e._v("#")]),e._v(" 📌 提示")]),e._v(" "),o("ol",[o("li",[o("p",[o("strong",[e._v("常用周期钩子")])]),e._v(" "),o("ol",[o("li",[o("code",[e._v("render")]),e._v(" 初始化渲染或更新渲染调用,创建虚拟 dom,进行 diff 算法,更新 dom 树都会在此进行")]),e._v(" "),o("li",[o("code",[e._v("componentDidMount")]),e._v(" 开启监听, 发送 ajax 请求")]),e._v(" "),o("li",[o("code",[e._v("componentWillUnmount")]),e._v(" 做一些收尾工作, 如: 清理定时器")])])])]),e._v(" "),o("hr")])}),[],!1,null,null,null);t.default=_.exports}}]);